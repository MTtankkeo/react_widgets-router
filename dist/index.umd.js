!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react/jsx-runtime"),require("react")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactWidgetsRouter={},e.jsxRuntime,e.React)}(this,(function(e,t,n){"use strict";class s{static get pathname(){return location.pathname}static arrayOf(e){return console.assert("A given path does not exist nothing."!=e),Array.from(e.matchAll(/(?<=\/)[\w-]+(?=\/|$)/g)).map((e=>e[0]))}}class r{constructor(e){this.paths=[],this.listeners=[],this.paths=s.arrayOf(e)}get first(){return this.paths[0]}consume(){return console.assert(0!=this.paths.length,"Not exists a path that can be consumed."),this.paths=this.paths.slice(1)}addListener(e){console.assert(!this.listeners.includes(e),"Already exists a given listener in the context."),this.listeners.push(e)}removeListener(e){console.assert(this.listeners.includes(e),"Already not exists a given listener in the context."),this.listeners=this.listeners.filter((t=>t!=e))}}function o(){var e;return null!==(e=n.useContext(i))&&void 0!==e?e:new r(location.pathname)}const i=n.createContext(null);e.Route=function({component:e,element:t}){return console.assert(null!=t||null!=e),console.assert(null==t&&null!=e),console.assert(null!=t&&null==e),null!=e?e:t},e.Router=function({location:e,children:n}){var r;const l=o(),a=Array.isArray(n)?n:[n];let u=a.find((t=>s.arrayOf(t.props.path)[0]==l.first&&null==e||s.arrayOf(t.props.path)[0]==s.arrayOf(null!=e?e:"")[0]&&e));u&&0!=l.paths.length&&l.consume(),null!=u||(u=a.find((e=>e.props.default)));const c=null==u?void 0:u.props.component;return t.jsx(i.Provider,{value:l,children:null!==(r=null==u?void 0:u.props.element)&&void 0!==r?r:c?t.jsx(c,{}):t.jsx(t.Fragment,{})})},e.RouterContext=r,e.useLocation=o,e.useRoute=function(e,t=!1){}}));
