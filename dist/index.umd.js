!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react/jsx-runtime"),require("react")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","react"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ReactWidgetsRouter={},t.jsxRuntime,t.React)}(this,(function(t,e,s){"use strict";class n{static get pathname(){return location.pathname}static arrayOf(t){return console.assert("A given path does not exist nothing."!=t),Array.from(t.matchAll(/(?<=\/)[\w-]+(?=\/|$)/g)).map((t=>t[0]))}}class i{constructor(t){this.consumedPath=[],this.paths=[],this.paths=n.arrayOf(t)}get first(){return this.paths[0]}get relPath(){return"/"+this.paths.join("/")}get absPath(){return"/"+this.consumedPath.join("/")+this.paths.join("/")}consume(){return console.assert(0!=this.paths.length,"Not exists a path that can be consumed."),this.paths[0]&&this.consumedPath.push(this.paths[0]),this.paths=this.paths.slice(1)}}function r(){var t;return null!==(t=s.useContext(o))&&void 0!==t?t:new i(location.pathname)}const o=s.createContext(null);class a{constructor(){this.listeners=[]}static get instance(){var t;return null!==(t=this._instance)&&void 0!==t?t:this._instance=new a}addListener(t){console.assert(!this.listeners.includes(t),"Already exists a given listener in the context."),this.listeners.push(t)}removeListener(t){console.assert(this.listeners.includes(t),"Already not exists a given listener in the context."),this.listeners=this.listeners.filter((e=>e!=t))}notifyListeners(t,e){this.listeners.forEach((s=>s(t,e)))}push(t){const e=location.pathname,s=t;e!=s&&(this.notifyListeners(e,s),history.pushState(null,"",s))}pop(){}}t.Route=function({component:t,element:e}){return console.assert(null!=e||null!=t),console.assert(null==e&&null!=t),console.assert(null!=e&&null==t),null!=t?t:e},t.Router=function({location:t,children:s}){var i;const a=new Set,l=r(),u=Array.isArray(s)?s:[s],h=l.relPath;let c=u.find((e=>n.arrayOf(e.props.path)[0]==l.first&&null==t||n.arrayOf(e.props.path)[0]==n.arrayOf(null!=t?t:"")[0]&&t));c&&0!=l.paths.length&&l.consume(),null!=c||(c=u.find((t=>t.props.default)));const p=null==c?void 0:c.props.component;return 0==a.has(h)&&a.add(h),e.jsx(o.Provider,{value:l,children:null!==(i=null==c?void 0:c.props.element)&&void 0!==i?i:p?e.jsx(p,{}):e.jsx(e.Fragment,{})})},t.RouterBinding=a,t.RouterContext=i,t.useLocation=r,t.useRoute=function(t,e){}}));
